<h4>Tasks:</h4>
<div class="atk-box-small" ng-repeat="task in tasks track by $index">
    <div class="atk-push small atk-cells">
        <div class="atk-cell atk-valign-top">
            <div class="atk-label atk-effect-info">{{$index+1}} (#{{task.id}})</div>
        </div>
        <div class="atk-cell atk-jackscrew">
            <div class="atk-label atk-effect-warning" style="white-space: pre-wrap"><strong>{{task.name}}</strong></div>

        </div>
    </div>
    <div>Asigned: {{task.assigned}}</div>
    <div>Created: {{task.created_dts}}</div>
    <div>Last updated: {{task.updated_dts}}</div>
    <div>{{task.descr_original}}</div>
    <div>Estimate: {{task.estimate}}</div>
    <div>Status: {{task.status}}</div>
    <div>Type: {{task.type}}</div>
</div>

<div style="{{Task.can_add_task}}">
    <h4>Add NewTask</h4>
    <div class="atk-box-small"  id="task_view">
        <form class="atk-form">
            <input type="hidden" ng-model="reqv.id" />

            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_name"><strong>Name:</strong></label>
                </div>
                <input type="text" id="task_name" class="atk-jackscrew" ng-model="task.name" />
            </div>
            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_description"><strong>Description:</strong></label>
                </div>
                <textarea id="task_description" type="text" class="atk-jackscrew" ng-model="task.descr_original"></textarea>
            </div>
            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_estimate"><strong>Estimate:</strong></label>
                </div>
                <input type="text" id="task_estimate" class="atk-jackscrew" ng-model="task.estimate" />
            </div>
            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_priority"><strong>Priority:</strong></label>
                </div>
                <select id="task_priority" ng-model="task.priority" ng-options="priority.name for priority in priorities track by priority.name"></select>
            </div>
            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_type"><strong>Type:</strong></label>
                </div>
                <select id="task_type" ng-model="task.type"  ng-options="type.name for type in types track by type.value"></select>
            </div>

            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_status"><strong>Status:</strong></label>
                </div>
                <select id="task_status" ng-model="task.status"  ng-options="status.name for status in statuses track by status.name"></select>
            </div>

            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_requester"><strong>Requester:</strong></label>
                </div>
                <select id="task_requester" ng-model="task.requester"  ng-options="requester.name  for requester in requesters track by requester.id" ng-init="requester = task.requester_id"  ></select>
            </div>

            <div class="atk-push-small">
                <div class="atk-push-small">
                    <label for="task_assigned"><strong>Assigned:</strong></label>
                </div>
                <select id="task_assigned" ng-model="task.assigned"  ng-options="assigned.name  for assigned in assigneds track by assigned.id" ng-init="assigned = task.assigned_id"  ></select>
            </div>

            <div class="atk-actions">
                <button ng-click="save(task,reqv)" class="atk-swatch-green atk-button-small atk-button" >Add</button>
            </div>

        </form>
    </div>
</div>