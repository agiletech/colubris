<div class="atk-box atk-push ">
    <div class="atk-push-small">
        <button style="{{Requirement.can_add_requirement}}" class="atk-button atk-effect-success" ng-click="Requirement.showForm()">Add Requirement</button>
        <button style="" class="atk-button atk-effect-success atk-move-right" ng-click="Requirement.saveOrder('sortable-reqirements','data-id',quote)">Save order</button>
    </div>
    <div class="atk-table">
        <table>
            <thead>
            <tr class="atk-swatch-gray">
                <th>#</th>
                <th>Info</th>
                <th style="{{requirements.can_see_spent_time}}">Estimate</th>
                <th>{{requirements.spent_time_cost_text}}</th>
                <th style="{{Requirement.show_actions}}">Actions</th>
            </tr>
            </thead>
            <tbody id="sortable-reqirements">
            <tr ng-repeat="rreqv in requirements track by $index"  is-included class=" {{rreqv.css.is_active}}" data-id="{{rreqv.id}}">
                <td>{{$index+1}}</td>
                <td>
                   <div class="atk-action">
                        <span class="toggle_is_included {{rreqv.css.is_active}} {{rreqv.css.can_toggle}}" ng-click="toggleIsIncluded(rreqv)">
                            {{rreqv.css.is_included}}
                        </span>
                        <span class="atk-label atk-effect-info">Req.#{{rreqv.id}}</span>
                        <span class="atk-label atk-effect-warning">
                            <strong class="inline-edit" editable-text="rreqv.name" onaftersave="Requirement.save(rreqv)">{{rreqv.name || 'no name provided'}}</strong>
                        </span>
                        <span class="atk-size-micro"> - by {{rreqv.user}}</span>
                   </div>
                    <div class="atk-action atk-box atk-swatch-gray inline-edit">
                        <span class="" editable-textarea="rreqv.descr" onaftersave="Requirement.save(rreqv)" >{{rreqv.descr || 'no description provided'}}</span>
                    </div>
                </td>
                <td style="{{requirements.can_see_spent_time}}">{{ rreqv.estimate == "null" ? "-" : rreqv.estimate }}</td>
                <td>{{ rreqv.spent_time_cost == "null" ? "-" : rreqv.spent_time_cost }}</td>
                <td class="" style="{{Requirement.show_actions}}">
                    <a href="javascript:void(0)" class="atk-text-nowrap icon-pencil atk-effect-info" ng-click="Requirement.edit($index)" style="{{Requirement.can_edit_requirement}}"> Info</a>
                    <a href="javascript:void(0)" class="atk-text-nowrap icon-trash atk-effect-danger" style="{{Requirement.can_delete_requirement}}" ng-confirm-click="Are you sure?" confirmed-click="Requirement.remove($index)"> Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>